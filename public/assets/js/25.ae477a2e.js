(window.webpackJsonp=window.webpackJsonp||[]).push([[25],{447:function(_,v,t){"use strict";t.r(v);var e=t(2),o=Object(e.a)({},(function(){var _=this,v=_._self._c;return v("ContentSlotsDistributor",{attrs:{"slot-key":_.$parent.slotKey}},[v("h1",{attrs:{id:"主从复制"}},[v("a",{staticClass:"header-anchor",attrs:{href:"#主从复制"}},[_._v("#")]),_._v(" 主从复制")]),_._v(" "),v("blockquote",[v("p",[_._v("指将一台redis服务器的数据复制到其他redis服务器，也叫主节点和从节点，一个主节点可以有多个从节点")])]),_._v(" "),v("p",[_._v("一般来说，主节点负责写操作，从节点负责读操作，")]),_._v(" "),v("p",[_._v("主节点把自己的数据变化通过异步方式发送给从节点，从节点接到主节点的数据后更新自己的数据，这样就达到了数据一致的目的。")]),_._v(" "),v("h2",{attrs:{id:"_1、配置"}},[v("a",{staticClass:"header-anchor",attrs:{href:"#_1、配置"}},[_._v("#")]),_._v(" 1、配置")]),_._v(" "),v("p",[v("strong",[_._v("主节点不需要修改任何配置")]),_._v("，只需要修改从节点配置就行了，只要主从关系确定就会自动同步数据")]),_._v(" "),v("p",[v("strong",[_._v("一种是通过命令行执行命令")]),_._v("，")]),_._v(" "),v("p",[v("code",[_._v("role")]),_._v("查看当前节点角色")]),_._v(" "),v("p",[v("code",[_._v("replicaof host port")]),_._v("或者"),v("code",[_._v("slaveof host port(旧版)")])]),_._v(" "),v("p",[_._v("用得少")]),_._v(" "),v("p",[v("strong",[_._v("另一种是通过配置文件来修改，")])]),_._v(" "),v("p",[_._v("如果想在一个电脑上运行两个redis")]),_._v(" "),v("p",[_._v("首先需要修改配置文件的")]),_._v(" "),v("ul",[v("li",[_._v("端口号")]),_._v(" "),v("li",[_._v("pidfile（进程文件）")]),_._v(" "),v("li",[_._v("dbfilename（持久化文件）")])]),_._v(" "),v("p",[_._v("修改成和主节点不同的就行了")]),_._v(" "),v("p",[v("strong",[_._v("指定主节点")]),_._v("：")]),_._v(" "),v("p",[_._v("找到在配置文件里找到"),v("code",[_._v("replicaof")]),_._v("，默认是注释掉的")]),_._v(" "),v("p",[_._v("例如"),v("code",[_._v("replicaof 127.0.0.1 6379")]),_._v("第一个参数是主机名，第二个是端口号")])])}),[],!1,null,null,null);v.default=o.exports}}]);